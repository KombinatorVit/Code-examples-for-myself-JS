//Рекурсия

let students = {
js: [{
    name: 'John',
    progress: 100
}, {
    name: 'Ivan',
    progress: 60
}],

html: {
    basuc: [{
        name: 'Peter',
        progress: 20
    }, {
        name: 'Ann',
        progress: 18
    }],

    pro: [{
        name: 'Sam',
        progress: 10
    }]
}
};

function getTotalProgressByIteration(data){
let total = 0;
let students = 0;

for(let course of Object.values(data)) {
if(Array.isArray(course)){
    students += course.length;
    

    for(let i = 0; i < course.length; i++){
        total += course[i].progress;
    }
} else {
    for(let subCourse of Object.values(course)) {
        students += subCourse.length;
        for(let i = 0; i < subCourse.length; i++){
            total += subCourse[i].progress;
        }
    }
}

}

return total / students;

}



console.log(getTotalProgressByIteration(students))


function getTotalProgressByRecorsion (data) {
    if(Array.isArray(data)){
let total = 0;
        
    for(let i = 0; i < data.length; i++){
            total += data[i].progress;
        }

        return [total, data.length]; 
} else {
    let total = [0, 0];

    for( let subData of Object.values(data)){
        const subDataArr = getTotalProgressByRecorsion(subData);
        total[0] += subDataArr[0];
        total[1] += subDataArr[1];
    }
    return total;
}
}

const result = getTotalProgressByRecorsion(students)

console.log(result[0]/ result[1]);

//////////////////////////////////////////////////



 Создание и настройка объектов
 
 
 let ford = Object.create({
  calculateDistancePerYear: function() {
    Object.defineProperty(this, 'distancePerYear', {
      value: Math.ceil(this.distance / this.age),
      enumerable: false,
      writable: false,
      configurable: false
    })
  }
}, {
  name: {
    value: 'Ford',
    enumerable: true,
    writable: false,
    configurable: false
  },
  model: {
    value: 'Focus',
    enumerable: true,
    writable: false,
    configurable: false
  },
  year: {
    value: 2015,
    enumerable: true,
    writable: false,
    configurable: false
  },
  distance: {
    value: 120500,
    enumerable: true,
    writable: true,
    configurable: false
  },
  age: {
    enumerable: true,
    get: function() {
      console.log('Получаем возраст')
      return new Date().getFullYear() - this.year
    },
    set: function() {
      console.log('Устанавливаем значение')
    }
  }
})

ford.calculateDistancePerYear()

for (var key in ford) {
  if (ford.hasOwnProperty(key)) {
    console.log(key, ford[key])
  }
}
 
